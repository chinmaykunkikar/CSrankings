class CSRankings{constructor(){this.note={},this.authorFile="./csrankings.csv",this.authorinfoFile="./generated-author-info.csv",this.countryinfoFile="./country-info.csv",this.turingFile="./turing.csv",this.turingImage="./png/acm-turing-award.png",this.acmfellowFile="./acm-fellows.csv",this.acmfellowImage="./png/acm.png",this.homepageImage="./house-logo.png",this.allowRankingChange=!1,this.areaMap=[{area:"ai",title:"AI"},{area:"aaai",title:"AI"},{area:"ijcai",title:"AI"},{area:"vision",title:"Vision"},{area:"cvpr",title:"Vision"},{area:"eccv",title:"Vision"},{area:"iccv",title:"Vision"},{area:"mlmining",title:"ML"},{area:"icml",title:"ML"},{area:"kdd",title:"ML"},{area:"nips",title:"ML"},{area:"nlp",title:"NLP"},{area:"acl",title:"NLP"},{area:"emnlp",title:"NLP"},{area:"naacl",title:"NLP"},{area:"ir",title:"Web+IR"},{area:"sigir",title:"Web+IR"},{area:"www",title:"Web+IR"},{area:"arch",title:"Arch"},{area:"asplos",title:"Arch"},{area:"isca",title:"Arch"},{area:"micro",title:"Arch"},{area:"hpca",title:"Arch"},{area:"comm",title:"Networks"},{area:"sigcomm",title:"Networks"},{area:"nsdi",title:"Networks"},{area:"sec",title:"Security"},{area:"ccs",title:"Security"},{area:"oakland",title:"Security"},{area:"usenixsec",title:"Security"},{area:"ndss",title:"Security"},{area:"pets",title:"Security"},{area:"mod",title:"DB"},{area:"sigmod",title:"DB"},{area:"vldb",title:"DB"},{area:"icde",title:"DB"},{area:"pods",title:"DB"},{area:"hpc",title:"HPC"},{area:"sc",title:"HPC"},{area:"hpdc",title:"HPC"},{area:"ics",title:"HPC"},{area:"mobile",title:"Mobile"},{area:"mobicom",title:"Mobile"},{area:"mobisys",title:"Mobile"},{area:"sensys",title:"Mobile"},{area:"metrics",title:"Metrics"},{area:"imc",title:"Metrics"},{area:"sigmetrics",title:"Metrics"},{area:"ops",title:"OS"},{area:"sosp",title:"OS"},{area:"osdi",title:"OS"},{area:"fast",title:"OS"},{area:"usenixatc",title:"OS"},{area:"eurosys",title:"OS"},{area:"pldi",title:"PL"},{area:"popl",title:"PL"},{area:"icfp",title:"PL"},{area:"oopsla",title:"PL"},{area:"plan",title:"PL"},{area:"soft",title:"SE"},{area:"fse",title:"SE"},{area:"icse",title:"SE"},{area:"ase",title:"SE"},{area:"issta",title:"SE"},{area:"act",title:"Theory"},{area:"focs",title:"Theory"},{area:"soda",title:"Theory"},{area:"stoc",title:"Theory"},{area:"crypt",title:"Crypto"},{area:"crypto",title:"Crypto"},{area:"eurocrypt",title:"Crypto"},{area:"log",title:"Logic"},{area:"cav",title:"Logic"},{area:"lics",title:"Logic"},{area:"graph",title:"Graphics"},{area:"siggraph",title:"Graphics"},{area:"siggraph-asia",title:"Graphics"},{area:"chi",title:"HCI"},{area:"chiconf",title:"HCI"},{area:"ubicomp",title:"HCI"},{area:"uist",title:"HCI"},{area:"robotics",title:"Robotics"},{area:"icra",title:"Robotics"},{area:"iros",title:"Robotics"},{area:"rss",title:"Robotics"},{area:"bio",title:"Comp. Bio"},{area:"ismb",title:"Comp. Bio"},{area:"recomb",title:"Comp. Bio"},{area:"da",title:"EDA"},{area:"dac",title:"EDA"},{area:"iccad",title:"EDA"},{area:"bed",title:"Embedded"},{area:"emsoft",title:"Embedded"},{area:"rtas",title:"Embedded"},{area:"rtss",title:"Embedded"},{area:"visualization",title:"Visualization"},{area:"vis",title:"Visualization"},{area:"vr",title:"Visualization"},{area:"ecom",title:"ECom"},{area:"ec",title:"ECom"},{area:"wine",title:"ECom"}],this.aiAreas=["ai","vision","mlmining","nlp","ir"],this.systemsAreas=["arch","comm","sec","mod","hpc","mobile","metrics","ops","plan","soft","da","bed"],this.theoryAreas=["act","crypt","log"],this.interdisciplinaryAreas=["graph","chi","robotics","bio","visualization","ecom"],this.areaNames=[],this.fields=[],this.aiFields=[],this.systemsFields=[],this.theoryFields=[],this.otherFields=[],this.areaDict={},this.areaPosition={},this.scholarInfo={},this.aliases={},this.turing={},this.acmfellow={},this.countryInfo={},this.homepages={},this.useDenseRankings=!1,this.authors=[],this.dblpAuthors={},this.authorAreas={},this.stats={},this.areaDeptAdjustedCount={},this.areaStringMap={},this.color=["#f30000","#0600f3","#00b109","#14e4b4","#0fe7fb","#67f200","#ff7e00","#8fe4fa","#ff5300","#640000","#3854d1","#d00ed8","#7890ff","#01664d","#04231b","#e9f117","#f3228e","#7ce8ca","#ff5300","#ff5300","#7eff30","#9a8cf6","#79aff9","#bfbfbf","#56b510","#00e2f6","#ff4141","#61ff41"],this.RightTriangle="&#9658;",this.DownTriangle="&#9660;",this.PieChart="<img alt='closed piechart' src='png/piechart.png'>",this.OpenPieChart="<img alt='opened piechart' src='png/piechart-open.png'>",CSRankings.theInstance=this,this.navigoRouter=new Navigo(null,!0);for(let t=0;t<this.areaMap.length;t++){const{area:e,title:a}=this.areaMap[t];CSRankings.areas[t]=e,e in CSRankings.parentMap||(CSRankings.topLevelAreas[e]=e),e in CSRankings.nextTier||(CSRankings.topTierAreas[e]=e),this.areaNames[t]=a,this.fields[t]=e,this.areaDict[e]=a,this.areaPosition[e]=t}for(let t of this.aiAreas)this.aiFields.push(this.areaPosition[t]);for(let t of this.systemsAreas)this.systemsFields.push(this.areaPosition[t]);for(let t of this.theoryAreas)this.theoryFields.push(this.areaPosition[t]);for(let t of this.interdisciplinaryAreas)this.otherFields.push(this.areaPosition[t]);let t=0;for(let e in CSRankings.parentMap){let a=CSRankings.parentMap[e];a in CSRankings.childMap?CSRankings.childMap[a].push(e):(CSRankings.childMap[a]=[e],CSRankings.parentIndex[a]=t,t+=1)}this.displayProgress(1),this.loadTuring(this.turing,()=>{this.loadACMFellow(this.acmfellow,()=>{this.displayProgress(2),this.loadAuthorInfo(()=>{this.displayProgress(3),this.loadAuthors(()=>{this.setAllOn(),this.navigoRouter.on({"/index":this.navigation,"/fromyear/:fromyear/toyear/:toyear/index":this.navigation}).resolve(),this.displayProgress(4),this.countAuthorAreas(),this.loadCountryInfo(this.countryInfo,()=>{setTimeout(()=>{this.addListeners(),CSRankings.getInstance().rank()},0)})})})})})}static updateMinimum(t){if(CSRankings.minToRank<=500){let e=t.scrollTop;return CSRankings.minToRank=5e3,CSRankings.getInstance().rank(),e}return 0}static getInstance(){return CSRankings.theInstance}static promise(t){if("undefined"!=typeof Promise){var e=Promise.resolve();e.then(t)}else setTimeout(t,0)}translateNameToDBLP(t){t=t.replace(/ Jr\./g,"_Jr."),t=t.replace(/ II/g,"_II"),t=t.replace(/ III/g,"_III"),t=t.replace(/'|\-|\./g,"="),t=t.replace(/Á/g,"=Aacute="),t=t.replace(/á/g,"=aacute="),t=t.replace(/è/g,"=egrave="),t=t.replace(/é/g,"=eacute="),t=t.replace(/í/g,"=iacute="),t=t.replace(/ï/g,"=iuml="),t=t.replace(/ó/g,"=oacute="),t=t.replace(/ç/g,"=ccedil="),t=t.replace(/ä/g,"=auml="),t=t.replace(/ö/g,"=ouml="),t=t.replace(/ø/g,"=oslash="),t=t.replace(/Ö/g,"=Ouml="),t=t.replace(/ü/g,"=uuml="),t=t.replace(/ß/g,"=szlig=");let e=t.split(" "),a=e[e.length-1],i="";parseInt(a)>0&&(i=a,e.pop(),a=e[e.length-1]+"_"+i),e.pop();let s=e.join(" ");s=s.replace(/\s/g,"_"),s=s.replace(/\-/g,"=");let n="https://dblp.uni-trier.de/pers/hd";const r=a[0].toLowerCase();return n+="/"+r+"/"+a+":"+s,n}makePrologue(){const t='<div class="table-responsive" style="overflow:auto; height:700px;"><table class="table table-fit table-sm table-striped"id="ranking" valign="top">';return t}static sum(t){let e=0;for(let a=0;a<t.length;a++)e+=t[a];return e}static average(t){return CSRankings.sum(t)/t.length}static stddev(t){let e=CSRankings.average(t),a=t.map(function(t){let a=t-e;return a*a}),i=Math.sqrt(CSRankings.sum(a)/(t.length-1));return i}areaString(t){if(t in this.areaStringMap)return this.areaStringMap[t];const e=.2,a=1,i=3,s=1;if(!this.authorAreas[t])return"";let n={};const r=CSRankings.topTierAreas;let o=0;for(let e in r){let a=this.authorAreas[t][e];e in CSRankings.parentMap&&(e=this.areaDict[e]),a>0&&(e in n||(n[e]=0),n[e]+=a,o=n[e]>o?n[e]:o)}let l=[];for(let t in n)l.push(n[t]);let c=CSRankings.sum(l),h=0;l.length>1&&(h=Math.ceil(a*CSRankings.stddev(l)));let p=[];for(let t in n)n[t]>=o-h&&1*n[t]/c>=e&&n[t]>s&&p.push(t);let d=p.sort((t,e)=>n[e]-n[t]).slice(0,i).join(",");return this.areaStringMap[t]=d,d}compareNames(t,e){const a=t.split(" "),i=e.split(" "),s=a[a.length-1],n=i[i.length-1];return s<n?-1:s>n?1:0}makeChart(t){let e=[],a={};const i=CSRankings.topTierAreas,s=unescape(t);for(let t in i){if(!(s in this.authorAreas))return;let e=this.authorAreas[s][t];e=Math.round(10*e)/10,e>0&&(t in CSRankings.parentMap&&(t=CSRankings.parentMap[t]),t in a||(a[t]=0),a[t]+=e)}for(let t in a){let i={label:this.areaDict[t],value:Math.round(10*a[t])/10,color:this.color[CSRankings.parentIndex[t]]};e.push(i)}new d3pie(t+"-chart",{header:{title:{text:s,fontSize:24,font:"open sans"},subtitle:{text:"Publication Profile",color:"#999999",fontSize:14,font:"open sans"},titleSubtitlePadding:9},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"38%",pieOuterRadius:"83%"},data:{content:e,smallSegmentGrouping:{enabled:!0,value:1}},labels:{outer:{pieDistance:32},inner:{format:"value",hideWhenLessThanPercentage:5},mainLabel:{fontSize:10.5},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#ffffff",fontSize:10},lines:{enabled:!0},truncation:{enabled:!0}},effects:{load:{effect:"none"},pullOutSegmentOnClick:{effect:"linear",speed:400,size:8}},misc:{gradient:{enabled:!0,percentage:100}}})}displayProgress(t){let e=["Initializing.","Loading author information.","Loading publication data.","Computing ranking."],a="",i=1;e.map(e=>{a+=i==t?"<strong>"+e+"</strong>":"<font color='gray'>"+e+"</font>",a+="<br />",i+=1}),$("#progress").html(a)}loadTuring(t,e){Papa.parse(this.turingFile,{header:!0,download:!0,complete:a=>{const i=a.data,s=i;for(let e of s)t[e.name]=e.year;CSRankings.promise(e)}})}loadACMFellow(t,e){Papa.parse(this.acmfellowFile,{header:!0,download:!0,complete:a=>{const i=a.data,s=i;for(let e of s)t[e.name]=e.year;CSRankings.promise(e)}})}loadCountryInfo(t,e){Papa.parse(this.countryinfoFile,{header:!0,download:!0,complete:a=>{const i=a.data,s=i;for(let e of s)t[e.institution]=e.region;CSRankings.promise(e)}})}loadAuthorInfo(t){Papa.parse(this.authorFile,{download:!0,header:!0,complete:e=>{const a=e.data,i=a;for(let t=0;t<i.length;t++){const e=i[t];let a=e.name.trim(),s=a.match(CSRankings.nameMatcher);s&&(a=s[1].trim(),this.note[a]=s[2]),""!==a&&(this.dblpAuthors[a]=this.translateNameToDBLP(a),this.homepages[a]=e.homepage,this.scholarInfo[a]=e.scholarid)}CSRankings.promise(t)}})}loadAuthors(t){Papa.parse(this.authorinfoFile,{download:!0,header:!0,complete:e=>{const a=e.data;this.authors=a,CSRankings.promise(t)}})}inRegion(t,e){switch(e){case"USA":if(t in this.countryInfo)return!1;break;case"europe":if(!(t in this.countryInfo))return!1;if("europe"!=this.countryInfo[t])return!1;break;case"canada":if(!(t in this.countryInfo))return!1;if("canada"!=this.countryInfo[t])return!1;break;case"northamerica":if(t in this.countryInfo&&"canada"!=this.countryInfo[t])return!1;break;case"australasia":if(!(t in this.countryInfo))return!1;if("australasia"!=this.countryInfo[t])return!1;break;case"southamerica":if(!(t in this.countryInfo))return!1;if("southamerica"!=this.countryInfo[t])return!1;break;case"asia":if(!(t in this.countryInfo))return!1;if("asia"!=this.countryInfo[t])return!1;break;case"africa":if(!(t in this.countryInfo))return!1;if("africa"!=this.countryInfo[t])return!1}return!0}activateFields(t,e){for(let a=0;a<e.length;a++){const i=this.fields[e[a]],s="input[name="+i+"]";$(s).prop("checked",t),i in CSRankings.childMap&&($(s).prop("disabled",!1),CSRankings.childMap[i].forEach(e=>{const a="input[name="+e+"]";e in CSRankings.nextTier?$(a).prop("checked",!1):$(a).prop("checked",t)}))}return this.rank(),!1}sortIndex(t){let e=Object.keys(t);return e.sort((e,a)=>t[e]!=t[a]?t[a]-t[e]:e<a?-1:a<e?1:0),e}countAuthorAreas(){const t=parseInt($("#fromyear").find(":selected").text()),e=parseInt($("#toyear").find(":selected").text());this.authorAreas={};for(let a in this.authors){let{area:i}=this.authors[a];if(i in CSRankings.nextTier)continue;let{year:s}=this.authors[a];if(s<t||s>e)continue;let{name:n,dept:r,count:o}=this.authors[a];const l=parseFloat(o);if(!(n in this.authorAreas)){this.authorAreas[n]={};for(let t in this.areaDict)this.areaDict.hasOwnProperty(t)&&(this.authorAreas[n][t]=0)}if(!(r in this.authorAreas)){this.authorAreas[r]={};for(let t in this.areaDict)this.areaDict.hasOwnProperty(t)&&(this.authorAreas[r][t]=0)}this.authorAreas[n][i]+=l,this.authorAreas[r][i]+=l}}buildDepartments(t,e,a,i,s,n,r,o){let l={};for(let c in this.authors){if(!this.authors.hasOwnProperty(c))continue;let h=this.authors[c],p=h.dept;if(!this.inRegion(p,i))continue;let d=h.area;if(0===a[d])continue;let g=h.year;if(g<t||g>e)continue;if(void 0===p)continue;let u=h.name;d in CSRankings.parentMap&&(d=CSRankings.parentMap[d]);const f=d+p;f in this.areaDeptAdjustedCount||(this.areaDeptAdjustedCount[f]=0);const m=parseInt(this.authors[c].count),k=parseFloat(this.authors[c].adjustedcount);this.areaDeptAdjustedCount[f]+=k,u in l||(l[u]=!0,r[u]=0,o[u]=0,p in s||(s[p]=0,n[p]=[]),n[p].push(u),s[p]+=1),r[u]+=m,o[u]+=k}}computeStats(t,e,a){this.stats={};for(let i in t)if(t.hasOwnProperty(i)){this.stats[i]=1;for(let t in CSRankings.topLevelAreas){let e=t+i;e in this.areaDeptAdjustedCount||(this.areaDeptAdjustedCount[e]=0),0!=a[t]&&(this.stats[i]*=this.areaDeptAdjustedCount[e]+1)}this.stats[i]=Math.pow(this.stats[i],1/e)}}updateWeights(t){let e=0;for(let a=0;a<CSRankings.areas.length;a++){let i=CSRankings.areas[a];if(t[i]=$("input[name="+this.fields[a]+"]").prop("checked")?1:0,1===t[i]){if(i in CSRankings.parentMap)continue;e++}}return e}buildDropDown(t,e,a){let i={};for(let s in t){if(!t.hasOwnProperty(s))continue;let n='<div class="table"><table class="table table-sm table-striped"><thead><th></th><td><small><em><abbr title="Click on an author\'s name to go to their home page.">Faculty</abbr></em></small></td><td align="right"><small><em>&nbsp;&nbsp;<abbr title="Total number of publications (click for DBLP entry).">#&nbsp;Pubs</abbr> </em></small></td><td align="right"><small><em><abbr title="Count divided by number of co-authors">Adj.&nbsp;#</abbr></em></small></td></thead><tbody>',r={};for(let a of t[s])r[a]=e[a];let o=Object.keys(r);o.sort((t,e)=>r[e]===r[t]?this.compareNames(t,e):r[e]-r[t]);for(let t of o){let e=encodeURI(this.homepages[t]),i=this.dblpAuthors[t];if(n+='<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><small><a title="Click for author\'s home page." target="_blank" href="'+e+'" onclick="trackOutboundLink(\''+e+"', true); return false;\">"+t+"</a>&nbsp;",this.note.hasOwnProperty(t)){const e=CSRankings.noteMap[this.note[t]],a='<a href="'+e+'">';n+='<span class="note" title="Note">['+a+this.note[t]+"</a>]</span>&nbsp;"}if(this.acmfellow.hasOwnProperty(t)&&(n+='<span title="ACM Fellow"><img alt="ACM Fellow" src="'+this.acmfellowImage+'"></span>&nbsp;'),this.turing.hasOwnProperty(t)&&(n+='<span title="Turing Award"><img alt="Turing Award" src="'+this.turingImage+'"></span>&nbsp;'),n+='<span class="areaname">'+this.areaString(t).toLowerCase()+"</span>&nbsp;",n+='<a title="Click for author\'s home page." target="_blank" href="'+e+'" onclick="trackOutboundLink(\''+e+'\', true); return false;"><img alt="Home page" src="'+this.homepageImage+'"></a>&nbsp;',this.scholarInfo.hasOwnProperty(t)&&"NOSCHOLARPAGE"!=this.scholarInfo[t]){let e="https://scholar.google.com/citations?user="+this.scholarInfo[t]+"&hl=en&oi=ao";n+='<a title="Click for author\'s Google Scholar page." target="_blank" href="'+e+'" onclick="trackOutboundLink(\''+e+'\', true); return false;"><img alt="Google Scholar" src="scholar-favicon.ico" height="10" width="10"></a>&nbsp;'}n+='<a title="Click for author\'s DBLP entry." target="_blank" href="'+i+'" onclick="trackOutboundLink(\''+i+'\', true); return false;"><img alt="DBLP" src="dblp.png"></a>',n+="<span onclick='csr.toggleChart(\""+escape(t)+'");\' title="Click for author\'s publication profile." class="hovertip" id="'+escape(t)+"-chartwidget\"><span class='piechart'>"+this.PieChart+'</span></span></small></td><td align="right"><small><a title="Click for author\'s DBLP entry." target="_blank" href="'+i+'" onclick="trackOutboundLink(\''+i+"', true); return false;\">"+r[t]+'</a></small></td><td align="right"><small>'+(Math.round(10*a[t])/10).toFixed(1)+'</small></td></tr><tr><td colspan="4"><div style="display:none;" id="'+escape(t)+'-chart"></div></td></tr>'}n+="</tbody></table></div>",i[s]=n}return i}buildOutputString(t,e,a,i){let s=this.makePrologue();if(s+='<thead><tr><th align="left"><font color="#777">#</font></th><th align="left"><font color="#777">Institution</font></th><th align="right"><abbr title="Geometric mean count of papers published across all areas."><font color="#777">Count</font></abbr></th><th align="right">&nbsp;<abbr title="Number of faculty who have published in these areas."><font color="#777">Faculty</font></abbr></th></th></tr></thead>',s+="<tbody>",t>0){let t=1,n=0,r=9999999.999;for(let t in this.stats){const e=Math.round(10*this.stats[t])/10;this.stats[t]=e}let o=this.sortIndex(this.stats);for(let l=0;l<o.length;l++){const c=o[l],h=this.stats[c];if(l>=i&&h!=r)break;if(0===h)break;r!=h&&(this.useDenseRankings?n+=1:(n+=t,t=0));const p=escape(c);s+="\n<tr><td>"+n+"&nbsp;</td>",s+='<td><span class="hovertip" onclick="csr.toggleFaculty(\''+p+'\');" id="'+p+'-widget"><font color="blue">'+this.RightTriangle+"</font></span>",s+="&nbsp;"+c+'&nbsp;<span class="hovertip" onclick="csr.toggleChart(\''+p+'\');" id="'+p+'-chartwidget">'+this.PieChart+"</span>",s+="</td>",s+='<td align="right">'+(Math.round(10*h)/10).toFixed(1)+"</td>",s+='<td align="right">'+e[c],s+="</td>",s+="</tr>\n",s+='<tr><td colspan="4"><div style="display:none;" style="width: 100%; height: 350px;" id="'+p+'-chart"></div></td></tr>',s+='<tr><td colspan="4"><div style="display:none;" id="'+p+'-faculty">'+a[c]+"</div></td></tr>",t++,r=h}s+="</tbody></table><br />",s+="</div></div>\n",s+="<br></body></html>"}else s="<h3>Please select at least one area by clicking one or more checkboxes.</h3>";return s}setAllOn(t=!0){for(let e=0;e<CSRankings.areas.length;e++){const a=this.fields[e],i="input[name="+a+"]";t?a in CSRankings.nextTier?$(i).prop("checked",!1):($(i).prop("checked",!0),$(i).prop("disabled",!1)):($(i).prop("checked",!1),$(i).prop("disabled",!1))}}rank(t=!0){let e=performance.now(),a={},i={},s={},n={},r={};this.areaDeptAdjustedCount={};const o=parseInt($("#fromyear").find(":selected").text()),l=parseInt($("#toyear").find(":selected").text()),c=String($("#regions").find(":selected").val());let h=this.updateWeights(r);this.buildDepartments(o,l,r,c,i,a,s,n),this.computeStats(a,h,r);const p=this.buildDropDown(a,s,n),d=this.buildOutputString(h,i,p,CSRankings.minToRank);$("#success").html(d),$("div").scroll(function(){if(this.scrollTop+this.clientHeight>this.scrollHeight-50){let t=CSRankings.updateMinimum(this);t&&$("div").scrollTop(t)}}),t?this.navigoRouter.resume():this.navigoRouter.pause();let g=this.updatedURL();this.navigoRouter.navigate(g);let u=performance.now();return console.log("Rank took "+(u-e)+" milliseconds."),!1}toggleChart(t){const e=document.getElementById(t+"-chart"),a=document.getElementById(t+"-chartwidget");"block"===e.style.display?(e.style.display="none",e.innerHTML="",a.innerHTML=this.PieChart):(e.style.display="block",this.makeChart(t),a.innerHTML=this.OpenPieChart)}toggleConferences(t){const e=document.getElementById(t+"-conferences"),a=document.getElementById(t+"-widget");"block"===e.style.display?(e.style.display="none",a.innerHTML='<font color="blue">'+this.RightTriangle+"</font>"):(e.style.display="block",a.innerHTML='<font color="blue">'+this.DownTriangle+"</font>")}toggleFaculty(t){const e=document.getElementById(t+"-faculty"),a=document.getElementById(t+"-widget");"block"===e.style.display?(e.style.display="none",a.innerHTML='<font color="blue">'+this.RightTriangle+"</font>"):(e.style.display="block",a.innerHTML='<font color="blue">'+this.DownTriangle+"</font>")}activateAll(t=!0){return this.setAllOn(t),this.rank(),!1}activateNone(){return this.activateAll(!1)}activateSystems(t=!0){return this.activateFields(t,this.systemsFields)}activateAI(t=!0){return this.activateFields(t,this.aiFields)}activateTheory(t=!0){return this.activateFields(t,this.theoryFields)}activateOthers(t=!0){return this.activateFields(t,this.otherFields)}deactivateSystems(){return this.activateSystems(!1)}deactivateAI(){return this.activateAI(!1)}deactivateTheory(){return this.activateTheory(!1)}deactivateOthers(){return this.activateOthers(!1)}updatedURL(){let t="",e=0,a=0;for(let i=0;i<this.fields.length;i++){const s="input[name="+this.fields[i]+"]";if(this.fields[i]in CSRankings.parentMap||(a+=1),$(s).prop("checked")&&!(this.fields[i]in CSRankings.parentMap)){let a=1;this.fields[i]in CSRankings.childMap&&CSRankings.childMap[this.fields[i]].forEach(t=>{let e=$("input[name="+t+"]").prop("checked");t in CSRankings.nextTier?a&=e?0:1:a&=e}),a&&(t+=this.fields[i]+"&",e+=1)}}e>0&&(t=t.slice(0,-1));let i=$("#regions").find(":selected").val(),s="",n=new Date;const r=n.getFullYear(),o=parseInt($("#fromyear").find(":selected").text()),l=parseInt($("#toyear").find(":selected").text());return o==r-10&&l==r||(s+="/fromyear/"+o.toString(),s+="/toyear/"+l.toString()),s+=e==a?"/index?all":0==e?"/index?none":"/index?"+t,"USA"!=i&&(s+="&"+i),s}navigation(t,e){null!==t&&Object.keys(t).forEach(e=>{$("#"+e).prop("value",t[e].toString())}),CSRankings.clearNonSubsetted();let a=e.split("&"),i=a.some(t=>"all"==t),s=a.some(t=>"none"==t),n=a.some(t=>CSRankings.regions.indexOf(t)>=0);if(n){let t=0;a.forEach(e=>{CSRankings.regions.indexOf(e)>=0&&a.splice(t,1),$("#regions").val(e),t+=1})}if(i)for(let t in CSRankings.topTierAreas){let e="input[name="+t+"]";$(e).prop("checked",!0),t in CSRankings.childMap&&($(e).prop("disabled",!1),CSRankings.childMap[t].forEach(t=>{t in CSRankings.nextTier||$("input[name="+t+"]").prop("checked",!0)}))}else if(s)CSRankings.clearNonSubsetted();else{CSRankings.clearNonSubsetted();for(let t of a)if("none"!=t&&""!=t){const e="input[name="+t+"]";$(e).prop("checked",!0),$(e).prop("disabled",!1),t in CSRankings.childMap&&CSRankings.childMap[t].forEach(t=>{t in CSRankings.nextTier||$("input[name="+t+"]").prop("checked",!0)})}}}static clearNonSubsetted(){for(let t of CSRankings.areas)if(t in CSRankings.childMap){const e=CSRankings.childMap[t];if(!CSRankings.subsetting(e)){const a="input[name="+t+"]";$(a).prop("checked",!1),$(a).prop("disabled",!1),e.forEach(t=>{$("input[name="+t+"]").prop("checked",!1)})}}}static subsetting(t){let e=[],a=[];t.forEach(t=>{t in CSRankings.nextTier?a.push(t):e.push(t)});let i=0;e.forEach(t=>{let e="input[name="+t+"]",a=$(e).prop("checked");a&&i++});let s=0;a.forEach(t=>{let e="input[name="+t+"]",a=$(e).prop("checked");a&&s++});let n=i>0&&i<e.length,r=s>0&&0!=a.length;return n||r}addListeners(){["toyear","fromyear","regions"].forEach(t=>{const e=document.getElementById(t);e.addEventListener("change",()=>{this.countAuthorAreas(),this.rank()})});for(let t=0;t<CSRankings.areas.length;t++){let e=CSRankings.areas[t];if(!(e in CSRankings.parentMap)){const t=document.getElementById(e+"-widget");t.addEventListener("click",()=>{this.toggleConferences(e)})}}for(let t=0;t<this.fields.length;t++){const e="input[name="+this.fields[t]+"]",a=this.fields[t];$(e).click(()=>{let t=!0;if(a in CSRankings.parentMap){t=!1;let e=CSRankings.parentMap[a];const i="input[name="+e+"]";let s=0,n=1;CSRankings.childMap[e].forEach(t=>{let e=$("input[name="+t+"]").prop("checked");s|=e,t in CSRankings.nextTier?n&=e?0:1:n&=e}),$(i).prop("checked",s),s&&!n||$(i).prop("disabled",!1),s&&!n&&$(i).prop("disabled",!0)}else{let t=$(e).prop("checked");if(a in CSRankings.childMap)for(let e of CSRankings.childMap[a]){const a="input[name="+e+"]";e in CSRankings.nextTier?$(a).prop("checked",!1):$(a).prop("checked",t)}}this.rank(t)})}const t={all_areas_on:()=>{this.activateAll()},all_areas_off:()=>{this.activateNone()},ai_areas_on:()=>{this.activateAI()},ai_areas_off:()=>{this.deactivateAI()},systems_areas_on:()=>{this.activateSystems()},systems_areas_off:()=>{this.deactivateSystems()},theory_areas_on:()=>{this.activateTheory()},theory_areas_off:()=>{this.deactivateTheory()},other_areas_on:()=>{this.activateOthers()},other_areas_off:()=>{this.deactivateOthers()}};for(let e in t){const a=document.getElementById(e);a.addEventListener("click",()=>{t[e]()})}}}CSRankings.minToRank=30,CSRankings.areas=[],CSRankings.topLevelAreas={},CSRankings.topTierAreas={},CSRankings.regions=["USA","europe","canada","northamerica","southamerica","australasia","asia","africa","world"],CSRankings.nameMatcher=new RegExp("(.*)\\s+\\[(.*)\\]"),CSRankings.parentIndex={},CSRankings.parentMap={aaai:"ai",ijcai:"ai",cvpr:"vision",eccv:"vision",iccv:"vision",icml:"mlmining",kdd:"mlmining",nips:"mlmining",acl:"nlp",emnlp:"nlp",naacl:"nlp",sigir:"ir",www:"ir",asplos:"arch",isca:"arch",micro:"arch",hpca:"arch",ccs:"sec",oakland:"sec",usenixsec:"sec",ndss:"sec",pets:"sec",vldb:"mod",sigmod:"mod",icde:"mod",pods:"mod",dac:"da",iccad:"da",emsoft:"bed",rtas:"bed",rtss:"bed",sc:"hpc",hpdc:"hpc",ics:"hpc",mobicom:"mobile",mobisys:"mobile",sensys:"mobile",imc:"metrics",sigmetrics:"metrics",osdi:"ops",sosp:"ops",eurosys:"ops",fast:"ops",usenixatc:"ops",popl:"plan",pldi:"plan",oopsla:"plan",icfp:"plan",fse:"soft",icse:"soft",ase:"soft",issta:"soft",nsdi:"comm",sigcomm:"comm",siggraph:"graph","siggraph-asia":"graph",focs:"act",soda:"act",stoc:"act",crypto:"crypt",eurocrypt:"crypt",cav:"log",lics:"log",ismb:"bio",recomb:"bio",ec:"ecom",wine:"ecom",chiconf:"chi",ubicomp:"chi",uist:"chi",icra:"robotics",iros:"robotics",rss:"robotics",vis:"visualization",vr:"visualization"},CSRankings.nextTier={ase:!0,issta:!0,icde:!0,pods:!0,hpca:!0,ndss:!0,pets:!0,eurosys:!0,fast:!0,usenixatc:!0,icfp:!0,oopsla:!0},CSRankings.childMap={},CSRankings.noteMap={Tech:"https://tech.cornell.edu/",CBG:"https://www.cis.mpg.de/cbg/",INF:"https://www.cis.mpg.de/mpi-inf/",IS:"https://www.cis.mpg.de/is/",MG:"https://www.cis.mpg.de/molgen/",SP:"https://www.cis.mpg.de/mpi-for-cyber-for-security-and-privacy/",SWS:"https://www.cis.mpg.de/mpi-sws/"};var csr=new CSRankings;